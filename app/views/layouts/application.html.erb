<!DOCTYPE html>
<html lang="en">
  <head>
    <title><%= meta_title %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="<%= meta_description %>">
    <meta name="robots" content="<%= meta_robots %>">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Tudouke">
    <meta property="og:locale" content="en">
    <meta property="og:title" content="<%= meta_title %>">
    <meta property="og:description" content="<%= meta_description %>">
    <meta property="og:image" content="<%= meta_image %>">
    <meta property="og:url" content="<%= canonical_url %>">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= meta_title %>">
    <meta name="twitter:description" content="<%= meta_description %>">
    <meta name="twitter:image" content="<%= meta_image %>">
    <link rel="canonical" href="<%= canonical_url %>">
    <link rel="alternate" hreflang="en" href="<%= canonical_url %>">
    <link rel="alternate" hreflang="x-default" href="<%= canonical_url %>">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Tudouke">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=Sora:wght@500;600;700;800&display=swap" rel="stylesheet">

    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="shortcut icon" href="/icon.png" type="image/png">
    <link rel="apple-touch-icon" href="/icon.png">

    <%= yield :head %>
    <% structured_data_items.each do |item| %>
      <script type="application/ld+json"><%= raw(json_escape(item.to_json)) %></script>
    <% end %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <% if analytics_script_src.present? %>
      <script defer src="<%= analytics_script_src %>"></script>
    <% end %>
  </head>

  <body class="bg-amber-50 text-slate-900 antialiased">
    <div class="pointer-events-none fixed inset-0 -z-10 overflow-hidden">
      <div class="absolute -left-20 top-0 h-72 w-72 rounded-full bg-cyan-400/35 blur-3xl"></div>
      <div class="absolute right-0 top-1/3 h-96 w-96 rounded-full bg-orange-300/40 blur-3xl"></div>
      <div class="absolute bottom-0 left-1/3 h-80 w-80 rounded-full bg-emerald-300/30 blur-3xl"></div>
    </div>

    <%= render "shared/navbar" %>
    <%= render "shared/flash" %>

    <main class="pb-24">
      <%= yield %>
    </main>

    <%= render "shared/footer" %>
  </body>
</html>
