<section class="mx-auto w-full max-w-7xl">
  <div class="admin-page-hero border-violet-300/20">
    <div class="flex flex-wrap items-start justify-between gap-4">
      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.2em] text-violet-200/90">SEO Studio</p>
        <h1 class="mt-2 font-heading text-3xl font-bold text-white sm:text-4xl">Landing Pages</h1>
        <p class="mt-2 max-w-2xl text-sm text-slate-200/90">Create, edit, and publish keyword-focused pages without code changes.</p>
        <span class="mt-4 inline-flex rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-xs font-semibold text-slate-100">
          <%= pluralize(@landing_pages.count, "page") %> in library
        </span>
      </div>
      <%= link_to "New Landing Page", new_admin_landing_page_path, class: "admin-btn-primary" %>
    </div>
  </div>

  <div class="admin-table-wrap">
    <table class="min-w-full text-left text-sm">
      <thead class="admin-table-head">
        <tr>
          <th class="px-4 py-3">Slug</th>
          <th class="px-4 py-3">Title</th>
          <th class="px-4 py-3">Keyword</th>
          <th class="px-4 py-3">Status</th>
          <th class="px-4 py-3">Updated</th>
          <th class="px-4 py-3"></th>
        </tr>
      </thead>
      <tbody class="divide-y divide-white/5 text-slate-200">
        <% @landing_pages.each do |page| %>
          <tr class="admin-table-row">
            <td class="px-4 py-3 font-medium text-cyan-300"><%= page.slug %></td>
            <td class="px-4 py-3 text-slate-100"><%= page.title %></td>
            <td class="px-4 py-3 text-slate-300"><%= page.target_keyword.presence || "-" %></td>
            <td class="px-4 py-3">
              <span class="<%= page.published? ? "border-emerald-300/40 bg-emerald-400/10 text-emerald-200" : "border-amber-300/40 bg-amber-400/10 text-amber-200" %> rounded-full border px-2 py-0.5 text-xs font-semibold">
                <%= page.published? ? "Published" : "Draft" %>
              </span>
            </td>
            <td class="px-4 py-3 text-slate-300"><%= l(page.updated_at, format: :short) %></td>
            <td class="px-4 py-3">
              <div class="flex flex-wrap items-center justify-end gap-3">
                <%= link_to "View", solution_path(slug: page.slug), class: "text-cyan-300 hover:text-cyan-200", target: "_blank", rel: "noopener" %>
                <%= link_to "Edit", edit_admin_landing_page_path(page), class: "text-slate-100 hover:text-white" %>
                <%= link_to "Delete", admin_landing_page_path(page), data: { turbo_method: :delete, turbo_confirm: "Delete this landing page?" }, class: "text-rose-300 hover:text-rose-200" %>
              </div>
            </td>
          </tr>
        <% end %>
        <% if @landing_pages.empty? %>
          <tr>
            <td colspan="6" class="px-4 py-8 text-center text-slate-400">No landing pages yet. Create your first one.</td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</section>
